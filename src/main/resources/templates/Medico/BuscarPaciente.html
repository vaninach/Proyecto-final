<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
              integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Busqueda de Pacientes</title>
    </head>

    <body>
        <div class="buscador">
            <form th:action="@{/Medico/BuscarPaciente}" method="POST">
                <!-- <input id="login-username" type="date" class="form-control" name="fechaNac" value=""
                    placeholder="Ingrese su matricula" /> -->
                <input type="text" id="nombre" name="nombre" placeholder="Nombre del paciente" /><br>
                <input type="text" id="apellido" name="apellido" placeholder="Apellido del paciente" /><br>
                <input type="text" id="DNI" name="DNI" placeholder="DNI del paciente" /><br>
                <label for="ciudad"> Ciudad </label>
                <input type="text" id="ciudad" name="ciudad" placeholder="Ciudad del paciente" th:value="*{miciudad}" /><br>


                <button type="submit">Buscar</button><br>

                <input type="checkbox" name="mis hc">
                <label for="mis hc"> Solo historias clinicas hechas por mi </label><br>

            </form>
        </div>

        <div class="resultados">
            <table class="table table-hover">
                <thead class="">
                    <tr>
                        <th>Nombre y Apellido</th>
                        <th>DNI</th>
                        <th>Edad</th>
                        <th>Genero</th>
                        <th>Grupo Sanguineo</th>
                        <th>Telefono</th>
                        <th>E-mail</th>
                    </tr>
                </thead>
                <tbody>
                    <tr onclick="CollapseExpandAllUtil.collapseExpandAll(this)" th:each="paciente:${lista}">
                        <td th:text="${paciente.nombre} + ' ' + ${paciente.apellido}"></td>
                        <td th:text="${paciente.DNI}"></td>
                        <td th:text="${paciente.fechaNac}"></td>
                        <td th:text="${paciente.genero}">Genero</td>
                        <td th:text="${paciente.grupoS}">Grupo Sanguineo</td>
                        <td th:text="${paciente.telefono}"></td>
                        <td th:text="${paciente.mail}"></td>
                    </tr>
                </tbody>
            </table>
            
            <br><br>

            <script>
                var CollapseExpandAllUtil = {
                 collapseExpandAll: function(x){
                  var allSectionsReference = document.querySelectorAll(".informeExpansion");
                  var len = allSectionsReference.length;
                  for (var i = 0; i < len; i++){
                   var sectionReference = allSectionsReference[i];
                   sectionReference.style.display = "block";
                  }
                 }
                };
            </script>

        </div>


        <div class="informeExpansion collapse">
            <form th:action="@{/Medico/AgregarHistoriaClinica}" method="POST">
                <label> Agregar una historia clinica</label><br>
<!--                <input type="text" id="DNI" name="DNI" placeholder="DNI" th:value="*{pac.DNI}" /><br>-->
                <input type="text" id="fechaVisita" name="fechaVisita" placeholder="Fecha visita" th:value="*{miciudad}" /><br>
                <input type="text" id="especialidad" name="especialidad" placeholder="Especialidad" /><br>
                <input type="text" id="centroMedico" name="centroMedico" placeholder="Centro Medico" /><br>
                <input type="text" id="informe" name="informe" placeholder="Detalles del informe" /><br>

                <button type="submit">Agregar</button><br>
            </form>
        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
                integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
                integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
        crossorigin="anonymous"></script>
    </body>

</html>